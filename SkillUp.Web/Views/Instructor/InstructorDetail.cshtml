@{
    ViewData["Title"] = "SkillUp-InstructorDetail";
}
@model Instructor

<div class="ed_detail_head">
    <div class="container">
        <div class="row align-items-center mb-5">
            <div class="col-lg-3 col-md-12 col-sm-12">
                <div class="authi_125">
                    <div class="authi_125_thumb">
                        <video src="~/user/assets/instructorpreview/@Model.PreviewVideoUrl" style="width:100%" alt="" controls loop></video>
                    </div>
                </div>
            </div>
            <div class="col-lg-9 col-md-12 col-sm-12">
                <div class="dlkio_452">
                    <div class="ed_detail_wrap">
                        <div class="crs_cates cl_1">
                            @foreach (var professions in Model.InstructorProfessions)
                            {
                                <span>@professions.Profession.Name</span>

                            }
                        </div>
                        <div class="ed_header_caption">
                            <h2 class="ed_title">@(Model.Name + " " + Model.Surname)</h2>
                            <ul>
                                <li>
                                    <i class="ti-control-forward"></i>
                                    @foreach (var course in Model.Courses)
                                    {

                                        <span>@course.Paragraphs.Sum(x => x.Lectures.Count) Lectures</span>


                                    }
                                </li>
                                <li>
                                    <i class="ti-user"></i>
                                    <span>@Model.AppUserInstructors.Count Enroll Student</span>
                                </li>
                            </ul>
                        </div>
                        <div class="ed_header_short">
                            <p>@Model.Description</p>
                        </div>
                    </div>
                    <div class="dlkio_last">
                        <div class="ed_view_link">
                            <a href="#" class="btn theme-bg enroll-btn">Enroll Now<i class="ti-angle-right"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<section class="gray">
    <div class="container">
        <div class="row justify-content-center">
            @foreach (var course in Model.Courses)
            {
                <div class="col-xl-4 col-lg-4 col-md-6 col-sm-12">
                    <div class="crs_grid">
                        <div class="crs_grid_thumb">
                            <img src="~/user/assets/courseimg/@course.ImageUrl" style="width:100%" class="img-fluid rounded" alt="" />
                        </div>
                        <div class="crs_grid_caption">
                            <div class="crs_flex">
                                <div class="crs_fl_first">
                                    <div class="crs_cates cl_7">
                                        <span>
                                            @foreach (var category in course.CourseCategories.Where(ctg => ctg.CategoryId == course.Id))
                                            {
                                                <span>@category.Category.Name</span>
                                            }
                                        </span>
                                    </div>
                                </div>
                                <div class="crs_fl_last">
                                    <div class="crs_inrolled"><strong>@course.AppUserCourses.Count</strong>Enrolled</div>
                                </div>
                            </div>
                            <div class="crs_title"><h4><a asp-controller="Course" asp-action="CourseDetail" asp-route-id="@course.Id" class="crs_title_link">@course.Name</a></h4></div>
                            <div class="crs_info_detail">
                                <ul>
                                    <li><i class="fa fa-clock text-danger"></i><span>Yazacam</span></li>
                                    <li><i class="fa fa-video text-success"></i><span>@course.Paragraphs.Sum(x=>x.Lectures.Count) Lectures</span></li>
                                </ul>
                            </div>
                        </div>
                        <div class="crs_grid_foot">
                            <div class="crs_flex">
                                <div class="crs_fl_first">
                                    <a asp-controller="Course" asp-action="CourseDetail" asp-route-id="@course.Id">Go To Course</a>
                                </div>
                                <div class="crs_fl_last">
                                    <div class="crs_price">
                                        <h2>
                                            <span class="currency"></span>
                                            @if (course.DiscountPrice > 0)
                                            {
                                                <span class="theme-cl">$@course.DiscountPrice</span>
                                            }
                                            @if (course.DiscountPrice == 0 && course.Price > 0)
                                            {
                                                <span class="theme-cl">$@course.Price</span>
                                            }
                                            @if (course.DiscountPrice == 0 && course.Price == 0)
                                            {
                                                <span class="theme-cl">FREE</span>
                                            }
                                        </h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }
        </div>
        <div class="row justify-content-center">
            <div class="col-lg-7 col-md-8 mt-2">
                <div class="text-center"><a href="grid-layout-with-sidebar.html" class="btn btn-md theme-bg-light theme-cl">Load More Cources</a></div>
            </div>
        </div>
    </div>
</section>
